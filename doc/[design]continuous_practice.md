サービス名
==========

continuous

ユースケース・シナリオ定義
==========================

ユーザーが毎日1つ、行ったことや継続していることを簡単に入力、確認できるアプリ。

* ユーザーが1アクションで習慣の記録をできることを目指す
* あとで振り返って、継続できていることを確認してモチベーションを高める

リスク分析
==========

技術リスク
----------

やりたいことを実現できる技術が利用できるか？

* 単純なWebのCRUDアプリ
* 最初は特別なフレームワーク・ライブラリなしで作ってみる
* 一度動くものができたら、手を付けられるところからフレームワークに置き換えてリファクタリングしていく

スキルリスク
-----------

自分が実装できるか？

* Java で実装するので、特にスキル的なところでリスクになるところは無いと判断。

UI・画面設計
============

* 単に一枚絵の入力画面
    * Twitter の BootStrap フレームワーク使う
* 確認はカレンダーから参照できる

DB設計
======

極力シンプルに。

管理したいもの
--------------

* 誰が
    * ログインユーザ
* いつ
    * POSTした日付
* 何を達成した？
    * 1ユーザー1目標。目標を切り替えるときは目標を訂正する。

テーブル設計
------------

### エンティティ定義

* User
    * ユーザ情報に関するデータ
    * ログイン情報など
* Achivement
    * 目標に関するデータ
    * 継続したい目標の属性を管理する
* Practice
    * 継続している習慣に関するデータ
    * 実行した日付

### テーブル定義

#### User

##### カラム定義

|No|論理名|物理名|データ型|データ長|Not Null|デフォルト値|備考|
|--|------|------|--------|--------|--------|------------|----|
|1|ユーザID|id|IDENTITY|-|Yes|-|-|
|2|ユーザ名|name|VARCHAR|255|Yes|-|-|
|3|メールアドレス|email|VARCHAR|255|Yes|-|-|
|4|パスワード|password|VARCHAR|255|Yes|-|-|
|5|自己紹介|about_me|VARCHAR|2147483647|Yes|-|最大長はInteger.MAXVALUE|
|6|作成日時|created_at|TIMESTAMP|-|Yes|-||
|7|更新日時|updated_at|TIMESTAMP|-|Yes|-||

##### インデックス

|No|インデックス名|カラムリスト|主キー|ユニーク制約|備考|
|--|--------------|------------|------|------------|----|
|1||id|○|-|-|

#### Achivement

##### カラム定義

|No|論理名|物理名|データ型|データ長|Not Null|デフォルト値|備考|
|--|------|------|--------|--------|--------|------------|----|
|1|目標ID|id|IDENTITY|-|Yes|-|-|
|2|ユーザID|user_id|BIGINT|-|Yes|-|-|
|3|名称|name|VARCHAR|255|Yes|-|-|
|4|作成日時|created_at|TIMESTAMP|-|Yes|-||
|5|更新日時|updated_at|TIMESTAMP|-|Yes|-||

##### インデックス

|No|インデックス名|カラムリスト|主キー|ユニーク制約|備考|
|--|--------------|------------|------|------------|----|
|1||id|○|-|-|

#### Practice

##### カラム定義

|No|論理名|物理名|データ型|データ長|Not Null|デフォルト値|備考|
|--|------|------|--------|--------|--------|------------|----|
|1|習慣ID|id|IDENTITY|-|Yes|-|-|
|2|ユーザID|user_id|BIGINT|-|Yes|-|-|
|3|目標ID|achivement_id|BIGINT|-|Yes|-|-|
|4|達成日|practiced_on|DATE|-|Yes|-|-|
|5|作成日時|created_at|TIMESTAMP|-|Yes|-||
|6|更新日時|updated_at|TIMESTAMP|-|Yes|-||

##### インデックス

|No|インデックス名|カラムリスト|主キー|ユニーク制約|備考|
|--|--------------|------------|------|------------|----|
|1||id|○|-|-|

システムアーキテクチャ
======================

ミドルウェア
------------

* Apache Tomcat 6.0.x
* H2 Database

フレームワーク・ライブラリ
--------------------------

* Twitter Bootstrap
* Persist

URI設計
=======

|HTTPメソッド|URI|画面|
|------------|---|----|
|GET|/continous/index|Home画面|
|POST|/continous/done|目標達成|
|GET|/continous/${username}|ユーザ情報画面|
|POST|/continous/${username}/update|ユーザ情報更新|

API設計
=======

テストを書いてAPIの利用シーンを想定する。